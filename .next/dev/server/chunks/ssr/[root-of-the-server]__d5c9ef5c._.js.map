{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Travis%20Irwin/bookstore-ecommerce/lib/supabase/client.ts"],"sourcesContent":["// lib/supabase/client.ts\r\nimport { createBrowserClient } from '@supabase/ssr';\r\n\r\nexport const supabaseClient = createBrowserClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AACzB;AAAA;;AAEO,MAAM,iBAAiB,IAAA,2NAAmB","debugId":null}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Travis%20Irwin/bookstore-ecommerce/components/AuthForm.tsx"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\nimport { supabaseClient } from '@/lib/supabase/client';\r\n\r\nexport default function AuthForm() {\r\n  const [email, setEmail] = useState('');\r\n  const [pw, setPw] = useState('');\r\n  const [mode, setMode] = useState<'signin'|'signup'>('signin');\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n\r\n  /**\r\n   * Handle form submission for sign in/up\r\n   */\r\n  async function onSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setMsg(null);\r\n\r\n    try {\r\n      // Attempt authentication\r\n      const result = await supabaseClient.auth[mode === 'signin' ? 'signInWithPassword' : 'signUp']({\r\n        email,\r\n        password: pw,\r\n      });\r\n\r\n      if (result.error) throw result.error;\r\n\r\n      // Refresh session to set httpOnly cookies\r\n      const { error: refreshErr } = await supabaseClient.auth.refreshSession();\r\n      if (refreshErr) throw refreshErr;\r\n\r\n      // Reload page to sync auth state\r\n      window.location.reload();\r\n  } catch (err: any) {\r\n    console.error('[Auth Error]', err);\r\n    setMsg(err.message ?? 'Auth error');\r\n  }\r\n}\r\n\r\n\r\n  return (\r\n    <form onSubmit={onSubmit} className=\"space-y-3 max-w-sm\">\r\n      <h2 className=\"text-xl font-bold\">{mode === 'signin' ? 'Sign In' : 'Sign Up'}</h2>\r\n      <input className=\"w-full border rounded px-3 py-2\" placeholder=\"email\" value={email} onChange={e=>setEmail(e.target.value)} />\r\n      <input className=\"w-full border rounded px-3 py-2\" placeholder=\"password\" type=\"password\" value={pw} onChange={e=>setPw(e.target.value)} />\r\n      <button className=\"border rounded px-3 py-2\">{mode === 'signin' ? 'Sign In' : 'Create Account'}</button>\r\n      <button type=\"button\" className=\"text-sm underline ml-3\" onClick={()=>setMode(mode==='signin'?'signup':'signin')}>\r\n        {mode === 'signin' ? 'Need an account?' : 'Have an account? Sign in'}\r\n      </button>\r\n      {msg && <div className=\"text-red-600\">{msg}</div>}\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2OAAQ,EAAC;IACnC,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,2OAAQ,EAAC;IAC7B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2OAAQ,EAAoB;IACpD,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,2OAAQ,EAAgB;IAE9C;;GAEC,GACD,eAAe,SAAS,CAAkB;QACxC,EAAE,cAAc;QAChB,OAAO;QAEP,IAAI;YACF,yBAAyB;YACzB,MAAM,SAAS,MAAM,qKAAc,CAAC,IAAI,CAAC,SAAS,WAAW,uBAAuB,SAAS,CAAC;gBAC5F;gBACA,UAAU;YACZ;YAEA,IAAI,OAAO,KAAK,EAAE,MAAM,OAAO,KAAK;YAEpC,0CAA0C;YAC1C,MAAM,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,qKAAc,CAAC,IAAI,CAAC,cAAc;YACtE,IAAI,YAAY,MAAM;YAEtB,iCAAiC;YACjC,OAAO,QAAQ,CAAC,MAAM;QAC1B,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,OAAO,IAAI,OAAO,IAAI;QACxB;IACF;IAGE,qBACE,wQAAC;QAAK,UAAU;QAAU,WAAU;;0BAClC,wQAAC;gBAAG,WAAU;0BAAqB,SAAS,WAAW,YAAY;;;;;;0BACnE,wQAAC;gBAAM,WAAU;gBAAkC,aAAY;gBAAQ,OAAO;gBAAO,UAAU,CAAA,IAAG,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;0BACzH,wQAAC;gBAAM,WAAU;gBAAkC,aAAY;gBAAW,MAAK;gBAAW,OAAO;gBAAI,UAAU,CAAA,IAAG,MAAM,EAAE,MAAM,CAAC,KAAK;;;;;;0BACtI,wQAAC;gBAAO,WAAU;0BAA4B,SAAS,WAAW,YAAY;;;;;;0BAC9E,wQAAC;gBAAO,MAAK;gBAAS,WAAU;gBAAyB,SAAS,IAAI,QAAQ,SAAO,WAAS,WAAS;0BACpG,SAAS,WAAW,qBAAqB;;;;;;YAE3C,qBAAO,wQAAC;gBAAI,WAAU;0BAAgB;;;;;;;;;;;;AAG7C","debugId":null}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Travis%20Irwin/bookstore-ecommerce/app/actions/logout.ts"],"sourcesContent":["'use server';\r\n\r\nimport { supabaseServer } from '@/lib/supabase/server';\r\nimport { redirect } from 'next/navigation';\r\n\r\nexport async function logoutAction() {\r\n  const s = await supabaseServer();\r\n  await s.auth.signOut();\r\n\r\n  // Redirect after sign-out\r\n  redirect('/auth-ex');\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAKsB,eAAA,WAAA,GAAA,IAAA,yQAAA,EAAA,8CAAA,8PAAA,EAAA,KAAA,GAAA,oQAAA,EAAA","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Travis%20Irwin/bookstore-ecommerce/components/LogoutButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useTransition } from 'react';\r\nimport { logoutAction } from '@/app/actions/logout';\r\n\r\nexport default function LogoutButton() {\r\n  const [pending, startTransition] = useTransition();\r\n\r\n  return (\r\n    <button\r\n      onClick={() => startTransition(() => logoutAction())}\r\n      disabled={pending}\r\n      className=\"mt-4 px-4 py-2 rounded-xl border border-red-500 text-red-600 hover:bg-red-50\"\r\n    >\r\n      {pending ? 'Logging outâ€¦' : 'Log Out'}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,SAAS,gBAAgB,GAAG,IAAA,gPAAa;IAEhD,qBACE,wQAAC;QACC,SAAS,IAAM,gBAAgB,IAAM,IAAA,gMAAY;QACjD,UAAU;QACV,WAAU;kBAET,UAAU,iBAAiB;;;;;;AAGlC","debugId":null}}]
}